<h1>Create a New Task</h1>
<form [formGroup]="taskForm" (ngSubmit)="addTask()">
  <div class="form-group">
    <label for="taskTitle">Title</label>
    <input id="taskTitle" formControlName="title" />
    @if (taskForm.get('title')?.touched && taskForm.get('title')?.invalid) {
      <div>
        @if (taskForm.get('title')?.errors?.['required']) {
          <small>Title is required.</small>
        }
        @if (taskForm.get('title')?.errors?.['maxlength']) {
          <small>Max length is 100.</small>
        }
      </div>
    }
  </div>

  <div class="form-group">
    <label for="taskDesc">Description</label>
    <textarea id="taskDesc" formControlName="description"></textarea>
    @if (taskForm.get('description')?.touched && taskForm.get('description')?.invalid) {
      <div>
        <small>Description is required.</small>
      </div>
    }
  </div>

  <div class="form-group">
    <label for="taskType">Type</label>
    <select id="taskType" formControlName="type">
      @for (t of types; track t) {
        <option [value]="t">{{ t }}</option>
      }
    </select>
  </div>

  <div class="form-group">
    <label for="taskDate">Created On</label>
    <input id="taskDate" type="date" formControlName="createdOn" />
  </div>

  <div class="form-group">
    <label for="taskStatus">Status</label>
    <select id="taskStatus" formControlName="status">
      @for (s of statuses; track s) {
        <option [value]="s">{{ s }}</option>
      }
    </select>
  </div>

  <button type="submit">Add Task</button>
</form>
